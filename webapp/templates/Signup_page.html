<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
	<title>Signup</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="icon" type="image/png" href="{% static 'Login/images/icons/favicon.ico' %}"/>
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/bootstrap/css/bootstrap.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/fonts/iconic/css/material-design-iconic-font.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/animate/animate.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/css-hamburgers/hamburgers.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/animsition/css/animsition.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/select2/select2.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/vendor/daterangepicker/daterangepicker.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/css/util.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Login/css/main.css' %}">

</head>
<body>

<!-- ================= ALERT MESSAGES ================= -->
{% if messages %}
  <div style="
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999;
      width: auto;
      text-align: center;
  ">
    {% for message in messages %}
      <div class="auto-alert"
           style="
             min-width: 300px;
             padding: 14px 20px;
             margin-bottom: 10px;
             border-radius: 6px;
             font-weight: 500;
             color: #fff;
             box-shadow: 0 6px 15px rgba(0,0,0,0.15);
             {% if message.tags == 'success' %}
               background-color: #28a745;
             {% elif message.tags == 'error' %}
               background-color: #dc3545;
             {% elif message.tags == 'warning' %}
               background-color: #ffc107; color:#212529;
             {% else %}
               background-color: #0dcaf0;
             {% endif %}
           ">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
<!-- ================================================== -->


<div class="limiter">
  <div class="container-login100"
       style="background-image: url('{% static "Login/images/bg-01.jpg" %}');">

    <div class="wrap-login100 p-l-55 p-r-55 p-t-55 p-b-30">

      <form class="login100-form validate-form"
            name="signup_form"
            method="POST"
            action="{% url 'user_signup' %}"
            onsubmit="return final_validation()">

        {% csrf_token %}

        <span class="login100-form-title p-b-49">
          Sign Up
        </span>

        <!-- Name -->
        <div class="wrap-input100 validate-input m-b-23">
          <span class="label-input100">Full Name</span>
          <input class="input100" type="text" name="name" id="name"
                 placeholder="Enter your full name">
          <span class="focus-input100" data-symbol="&#xf206;"></span>
          <small id="name_error" style="color:#dc3545;"></small>
        </div>

        <!-- Email -->
        <div class="wrap-input100 validate-input m-b-23">
          <span class="label-input100">Email</span>
          <input class="input100" type="email" name="email" id="email"
                 placeholder="Enter your email">
          <span class="focus-input100" data-symbol="&#xf15a;"></span>
          <small id="email_error" style="color:#dc3545;"></small>
        </div>

        <!-- Phone -->
        <div class="wrap-input100 validate-input m-b-23">
          <span class="label-input100">Phone</span>
          <input class="input100" type="text" name="phone" id="phone"
                 placeholder="Enter phone number">
          <span class="focus-input100" data-symbol="&#xf2be;"></span>
          <small id="phone_error" style="color:#dc3545;"></small>
        </div>

        <!-- Password -->
        <div class="wrap-input100 validate-input">
          <span class="label-input100">Password</span>
          <input class="input100" type="password" name="password" id="password"
                 placeholder="Enter password">
          <span class="focus-input100" data-symbol="&#xf190;"></span>
          <small id="password_error" style="color:#dc3545;"></small>
        </div>

        <!-- Confirm Password -->
        <div class="wrap-input100 validate-input m-t-20">
          <span class="label-input100">Confirm Password</span>
          <input class="input100" type="password"
                 name="confirm_password" id="confirm_password"
                 placeholder="Re-enter password">
          <span class="focus-input100" data-symbol="&#xf190;"></span>
          <small id="confirm_error" style="color:#dc3545;"></small>
        </div>

        <!-- Button -->
        <div class="container-login100-form-btn p-t-30">
          <div class="wrap-login100-form-btn">
            <div class="login100-form-bgbtn"></div>
            <button class="login100-form-btn" type="submit">
              Register
            </button>
          </div>
        </div>

        <div class="txt1 text-center p-t-30">
          Already have an account?
        </div>

        <div class="flex-c-m p-t-10">
          <a href="{% url 'signin_page' %}" class="txt2">
            Login Here
          </a>
        </div>

      </form>
    </div>
  </div>
</div>

<!-- ================= JS FILES ================= -->
<script src="{% static 'Login/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'Login/vendor/animsition/js/animsition.min.js' %}"></script>
<script src="{% static 'Login/vendor/bootstrap/js/popper.js' %}"></script>
<script src="{% static 'Login/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'Login/vendor/select2/select2.min.js' %}"></script>
<script src="{% static 'Login/vendor/daterangepicker/moment.min.js' %}"></script>
<script src="{% static 'Login/vendor/daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'Login/vendor/countdowntime/countdowntime.js' %}"></script>
<script src="{% static 'Login/js/main.js' %}"></script>
<script src="{% static 'Login/js/user_validate.js' %}"></script>

<!-- ================= FORM VALIDATION ================= -->
<script>
function password_validation() {
  let p1 = document.signup_form.password.value;
  let p2 = document.signup_form.confirm_password.value;

  if (p1 === "") {
    alert("password can't be blank");
    return false;
  } else if (p2 === "") {
    alert("confirm password can't be blank");
    return false;
  } else if (p1.length < 6) {
    alert("password must contain atleast 6 characters");
    return false;
  } else if (p1 === p2) {
    return true;
  } else {
    alert("password doesn't match");
    return false;
  }
}

function validation() {
  let x = document.signup_form.name.value;
  let y = document.signup_form.email.value;
  let z = document.signup_form.phone.value;

  if (x === "") {
    alert("Name can't be null or blank");
    return false;
  } else if (y === "") {
    alert("Email can't be null or blank");
    return false;
  } else if (z === "") {
    alert("Number can't be null or blank");
    return false;
  } else if (z.length !== 10) {
    alert("Invalid mobile number");
    return false;
  }
  return true;
}

function final_validation() {
  return validation() && password_validation();
}
</script>

<!-- ================= ALERT AUTO FADE ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll(".auto-alert").forEach(alert => {
    setTimeout(() => {
      alert.classList.remove("show");
      setTimeout(() => alert.remove(), 500);
    }, 4000);
  });
});
</script>

</body>

</html>
