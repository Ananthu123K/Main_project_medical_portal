<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Donor Profile</title>
    <link rel="stylesheet" href="{% static 'Donor_login/css/donor_login.css' %}">
</head>
<body>
    <div class="signup-container">
        <h2>Edit Donor Profile</h2>
        <form method="POST" enctype="multipart/form-data" action="{% url 'update_donor_profile' donor.id %}">
            {% csrf_token %}
            <input type="text" name="name" placeholder="Full Name" value="{{ donor.Name }}" required>
            <input type="email" name="email" placeholder="Email" value="{{ donor.Email }}" required>
            <input type="text" name="phone" placeholder="Phone Number" value="{{ donor.phone }}">
            <input type="text" name="bloodgroup" placeholder="Blood Group" value="{{ donor.BloodGroup }}">
            <input type="text" name="location" placeholder="Location"  value="{{ donor.Location }}">

            <!-- Password fields -->
            <input type="password" name="password" placeholder="New Password (leave blank to keep current)">
            <input type="password" name="confirm_password" placeholder="Confirm New Password">

            <input type="number" name="age" placeholder="Age" value="{{ donor.Age }}">

            <select name="gender" required>
                <option value="">Select Gender</option>
                <option value="Male" {% if donor.Gender == "Male" %}selected{% endif %}>Male</option>
                <option value="Female" {% if donor.Gender == "Female" %}selected{% endif %}>Female</option>
            </select>
            <label for="image">Profile Image (Optional):</label>

            <!-- Show current image if it exists -->
            {% if donor.Image %}
                <div class="current-image">
                    <p>Current Image:</p>
                    <img src="{{ donor.Image.url }}" alt="Profile Image" width="150" style="display:block; margin-bottom:10px;">
                </div>
            {% endif %}

            <!-- File input to upload new image -->
            <input type="file" name="image" accept="image/*">


            <button type="submit">Update Profile</button>
        </form>
        <p>Already registered? <a href="{% url 'donor_login_page' %}">Login here</a></p>
    </div>
</body>
</html>
